<!-- views/profile.ejs -->
<!doctype html>
<html>
<head>

    <meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
    <title>Battleship</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/battleship.css">
</head>
<body>
<div class="container">

    <div class="page-header text-center">
        <h1>Battleship</h1>
    </div>
	
	<div class="row">
		<!-- The game div -->
		<div class="col-lg-4" id="OpponentGrid">
			<div class="page-header text-center">
				<h3>Opponent's Grid</h3>
			</div>
			
			<ul id="OpponentShips"></ul>
		
			<div class="row show-grid">
				<div class="col-xs-1 square"></div>
				<div class="col-xs-1 square"><div class="content">A</div></div>
				<div class="col-xs-1 square"><div class="content">B</div></div>
				<div class="col-xs-1 square"><div class="content">C</div></div>
				<div class="col-xs-1 square"><div class="content">D</div></div>
				<div class="col-xs-1 square"><div class="content">E</div></div>
				<div class="col-xs-1 square"><div class="content">F</div></div>
				<div class="col-xs-1 square"><div class="content">G</div></div>
				<div class="col-xs-1 square"><div class="content">H</div></div>
				<div class="col-xs-1 square"><div class="content">I</div></div>
				<div class="col-xs-1 square"><div class="content">J</div></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">1</div></div>
				<div class="col-xs-1 gamesquare" id="1,1"></div>
				<div class="col-xs-1 gamesquare" id="2,1"></div>
				<div class="col-xs-1 gamesquare" id="3,1"></div>
				<div class="col-xs-1 gamesquare" id="4,1"></div>
				<div class="col-xs-1 gamesquare" id="5,1"></div>
				<div class="col-xs-1 gamesquare" id="6,1"></div>
				<div class="col-xs-1 gamesquare" id="7,1"></div>
				<div class="col-xs-1 gamesquare" id="8,1"></div>
				<div class="col-xs-1 gamesquare" id="9,1"></div>
				<div class="col-xs-1 gamesquare" id="10,1"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">2</div></div>
				<div class="col-xs-1 gamesquare" id="1,2"></div>
				<div class="col-xs-1 gamesquare" id="2,2"></div>
				<div class="col-xs-1 gamesquare" id="3,2"></div>
				<div class="col-xs-1 gamesquare" id="4,2"></div>
				<div class="col-xs-1 gamesquare" id="5,2"></div>
				<div class="col-xs-1 gamesquare" id="6,2"></div>
				<div class="col-xs-1 gamesquare" id="7,2"></div>
				<div class="col-xs-1 gamesquare" id="8,2"></div>
				<div class="col-xs-1 gamesquare" id="9,2"></div>
				<div class="col-xs-1 gamesquare" id="10,2"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">3</div></div>
				<div class="col-xs-1 gamesquare" id="1,3"></div>
				<div class="col-xs-1 gamesquare" id="2,3"></div>
				<div class="col-xs-1 gamesquare" id="3,3"></div>
				<div class="col-xs-1 gamesquare" id="4,3"></div>
				<div class="col-xs-1 gamesquare" id="5,3"></div>
				<div class="col-xs-1 gamesquare" id="6,3"></div>
				<div class="col-xs-1 gamesquare" id="7,3"></div>
				<div class="col-xs-1 gamesquare" id="8,3"></div>
				<div class="col-xs-1 gamesquare" id="9,3"></div>
				<div class="col-xs-1 gamesquare" id="10,3"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">4</div></div>
				<div class="col-xs-1 gamesquare" id="1,4"></div>
				<div class="col-xs-1 gamesquare" id="2,4"></div>
				<div class="col-xs-1 gamesquare" id="3,4"></div>
				<div class="col-xs-1 gamesquare" id="4,4"></div>
				<div class="col-xs-1 gamesquare" id="5,4"></div>
				<div class="col-xs-1 gamesquare" id="6,4"></div>
				<div class="col-xs-1 gamesquare" id="7,4"></div>
				<div class="col-xs-1 gamesquare" id="8,4"></div>
				<div class="col-xs-1 gamesquare" id="9,4"></div>
				<div class="col-xs-1 gamesquare" id="10,4"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">5</div></div>
				<div class="col-xs-1 gamesquare" id="1,5"></div>
				<div class="col-xs-1 gamesquare" id="2,5"></div>
				<div class="col-xs-1 gamesquare" id="3,5"></div>
				<div class="col-xs-1 gamesquare" id="4,5"></div>
				<div class="col-xs-1 gamesquare" id="5,5"></div>
				<div class="col-xs-1 gamesquare" id="6,5"></div>
				<div class="col-xs-1 gamesquare" id="7,5"></div>
				<div class="col-xs-1 gamesquare" id="8,5"></div>
				<div class="col-xs-1 gamesquare" id="9,5"></div>
				<div class="col-xs-1 gamesquare" id="10,5"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">6</div></div>
				<div class="col-xs-1 gamesquare" id="1,6"></div>
				<div class="col-xs-1 gamesquare" id="2,6"></div>
				<div class="col-xs-1 gamesquare" id="3,6"></div>
				<div class="col-xs-1 gamesquare" id="4,6"></div>
				<div class="col-xs-1 gamesquare" id="5,6"></div>
				<div class="col-xs-1 gamesquare" id="6,6"></div>
				<div class="col-xs-1 gamesquare" id="7,6"></div>
				<div class="col-xs-1 gamesquare" id="8,6"></div>
				<div class="col-xs-1 gamesquare" id="9,6"></div>
				<div class="col-xs-1 gamesquare" id="10,6"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">7</div></div>
				<div class="col-xs-1 gamesquare" id="1,7"></div>
				<div class="col-xs-1 gamesquare" id="2,7"></div>
				<div class="col-xs-1 gamesquare" id="3,7"></div>
				<div class="col-xs-1 gamesquare" id="4,7"></div>
				<div class="col-xs-1 gamesquare" id="5,7"></div>
				<div class="col-xs-1 gamesquare" id="6,7"></div>
				<div class="col-xs-1 gamesquare" id="7,7"></div>
				<div class="col-xs-1 gamesquare" id="8,7"></div>
				<div class="col-xs-1 gamesquare" id="9,7"></div>
				<div class="col-xs-1 gamesquare" id="10,7"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">8</div></div>
				<div class="col-xs-1 gamesquare" id="1,8"></div>
				<div class="col-xs-1 gamesquare" id="2,8"></div>
				<div class="col-xs-1 gamesquare" id="3,8"></div>
				<div class="col-xs-1 gamesquare" id="4,8"></div>
				<div class="col-xs-1 gamesquare" id="5,8"></div>
				<div class="col-xs-1 gamesquare" id="6,8"></div>
				<div class="col-xs-1 gamesquare" id="7,8"></div>
				<div class="col-xs-1 gamesquare" id="8,8"></div>
				<div class="col-xs-1 gamesquare" id="9,8"></div>
				<div class="col-xs-1 gamesquare" id="10,8"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">9</div></div>
				<div class="col-xs-1 gamesquare" id="1,9"></div>
				<div class="col-xs-1 gamesquare" id="2,9"></div>
				<div class="col-xs-1 gamesquare" id="3,9"></div>
				<div class="col-xs-1 gamesquare" id="4,9"></div>
				<div class="col-xs-1 gamesquare" id="5,9"></div>
				<div class="col-xs-1 gamesquare" id="6,9"></div>
				<div class="col-xs-1 gamesquare" id="7,9"></div>
				<div class="col-xs-1 gamesquare" id="8,9"></div>
				<div class="col-xs-1 gamesquare" id="9,9"></div>
				<div class="col-xs-1 gamesquare" id="10,9"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">10</div></div>
				<div class="col-xs-1 gamesquare" id="1,10"></div>
				<div class="col-xs-1 gamesquare" id="2,10"></div>
				<div class="col-xs-1 gamesquare" id="3,10"></div>
				<div class="col-xs-1 gamesquare" id="4,10"></div>
				<div class="col-xs-1 gamesquare" id="5,10"></div>
				<div class="col-xs-1 gamesquare" id="6,10"></div>
				<div class="col-xs-1 gamesquare" id="7,10"></div>
				<div class="col-xs-1 gamesquare" id="8,10"></div>
				<div class="col-xs-1 gamesquare" id="9,10"></div>
				<div class="col-xs-1 gamesquare" id="10,10"></div>
			</div>
		</div>
		<div class="col-lg-4" id="PlayerGrid">
		
			<div class="page-header text-center">
				<h3>Your Grid</h3>
			</div>
			
				<ul id="PlayerShips"></ul>
			
			<div class="row show-grid">
				<div class="col-xs-1 square"></div>
				<div class="col-xs-1 square"><div class="content">A</div></div>
				<div class="col-xs-1 square"><div class="content">B</div></div>
				<div class="col-xs-1 square"><div class="content">C</div></div>
				<div class="col-xs-1 square"><div class="content">D</div></div>
				<div class="col-xs-1 square"><div class="content">E</div></div>
				<div class="col-xs-1 square"><div class="content">F</div></div>
				<div class="col-xs-1 square"><div class="content">G</div></div>
				<div class="col-xs-1 square"><div class="content">H</div></div>
				<div class="col-xs-1 square"><div class="content">I</div></div>
				<div class="col-xs-1 square"><div class="content">J</div></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">1</div></div>
				<div class="col-xs-1 gamesquare" id="1,1"></div>
				<div class="col-xs-1 gamesquare" id="2,1"></div>
				<div class="col-xs-1 gamesquare" id="3,1"></div>
				<div class="col-xs-1 gamesquare" id="4,1"></div>
				<div class="col-xs-1 gamesquare" id="5,1"></div>
				<div class="col-xs-1 gamesquare" id="6,1"></div>
				<div class="col-xs-1 gamesquare" id="7,1"></div>
				<div class="col-xs-1 gamesquare" id="8,1"></div>
				<div class="col-xs-1 gamesquare" id="9,1"></div>
				<div class="col-xs-1 gamesquare" id="10,1"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">2</div></div>
				<div class="col-xs-1 gamesquare" id="1,2"></div>
				<div class="col-xs-1 gamesquare" id="2,2"></div>
				<div class="col-xs-1 gamesquare" id="3,2"></div>
				<div class="col-xs-1 gamesquare" id="4,2"></div>
				<div class="col-xs-1 gamesquare" id="5,2"></div>
				<div class="col-xs-1 gamesquare" id="6,2"></div>
				<div class="col-xs-1 gamesquare" id="7,2"></div>
				<div class="col-xs-1 gamesquare" id="8,2"></div>
				<div class="col-xs-1 gamesquare" id="9,2"></div>
				<div class="col-xs-1 gamesquare" id="10,2"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">3</div></div>
				<div class="col-xs-1 gamesquare" id="1,3"></div>
				<div class="col-xs-1 gamesquare" id="2,3"></div>
				<div class="col-xs-1 gamesquare" id="3,3"></div>
				<div class="col-xs-1 gamesquare" id="4,3"></div>
				<div class="col-xs-1 gamesquare" id="5,3"></div>
				<div class="col-xs-1 gamesquare" id="6,3"></div>
				<div class="col-xs-1 gamesquare" id="7,3"></div>
				<div class="col-xs-1 gamesquare" id="8,3"></div>
				<div class="col-xs-1 gamesquare" id="9,3"></div>
				<div class="col-xs-1 gamesquare" id="10,3"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">4</div></div>
				<div class="col-xs-1 gamesquare" id="1,4"></div>
				<div class="col-xs-1 gamesquare" id="2,4"></div>
				<div class="col-xs-1 gamesquare" id="3,4"></div>
				<div class="col-xs-1 gamesquare" id="4,4"></div>
				<div class="col-xs-1 gamesquare" id="5,4"></div>
				<div class="col-xs-1 gamesquare" id="6,4"></div>
				<div class="col-xs-1 gamesquare" id="7,4"></div>
				<div class="col-xs-1 gamesquare" id="8,4"></div>
				<div class="col-xs-1 gamesquare" id="9,4"></div>
				<div class="col-xs-1 gamesquare" id="10,4"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">5</div></div>
				<div class="col-xs-1 gamesquare" id="1,5"></div>
				<div class="col-xs-1 gamesquare" id="2,5"></div>
				<div class="col-xs-1 gamesquare" id="3,5"></div>
				<div class="col-xs-1 gamesquare" id="4,5"></div>
				<div class="col-xs-1 gamesquare" id="5,5"></div>
				<div class="col-xs-1 gamesquare" id="6,5"></div>
				<div class="col-xs-1 gamesquare" id="7,5"></div>
				<div class="col-xs-1 gamesquare" id="8,5"></div>
				<div class="col-xs-1 gamesquare" id="9,5"></div>
				<div class="col-xs-1 gamesquare" id="10,5"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">6</div></div>
				<div class="col-xs-1 gamesquare" id="1,6"></div>
				<div class="col-xs-1 gamesquare" id="2,6"></div>
				<div class="col-xs-1 gamesquare" id="3,6"></div>
				<div class="col-xs-1 gamesquare" id="4,6"></div>
				<div class="col-xs-1 gamesquare" id="5,6"></div>
				<div class="col-xs-1 gamesquare" id="6,6"></div>
				<div class="col-xs-1 gamesquare" id="7,6"></div>
				<div class="col-xs-1 gamesquare" id="8,6"></div>
				<div class="col-xs-1 gamesquare" id="9,6"></div>
				<div class="col-xs-1 gamesquare" id="10,6"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">7</div></div>
				<div class="col-xs-1 gamesquare" id="1,7"></div>
				<div class="col-xs-1 gamesquare" id="2,7"></div>
				<div class="col-xs-1 gamesquare" id="3,7"></div>
				<div class="col-xs-1 gamesquare" id="4,7"></div>
				<div class="col-xs-1 gamesquare" id="5,7"></div>
				<div class="col-xs-1 gamesquare" id="6,7"></div>
				<div class="col-xs-1 gamesquare" id="7,7"></div>
				<div class="col-xs-1 gamesquare" id="8,7"></div>
				<div class="col-xs-1 gamesquare" id="9,7"></div>
				<div class="col-xs-1 gamesquare" id="10,7"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">8</div></div>
				<div class="col-xs-1 gamesquare" id="1,8"></div>
				<div class="col-xs-1 gamesquare" id="2,8"></div>
				<div class="col-xs-1 gamesquare" id="3,8"></div>
				<div class="col-xs-1 gamesquare" id="4,8"></div>
				<div class="col-xs-1 gamesquare" id="5,8"></div>
				<div class="col-xs-1 gamesquare" id="6,8"></div>
				<div class="col-xs-1 gamesquare" id="7,8"></div>
				<div class="col-xs-1 gamesquare" id="8,8"></div>
				<div class="col-xs-1 gamesquare" id="9,8"></div>
				<div class="col-xs-1 gamesquare" id="10,8"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">9</div></div>
				<div class="col-xs-1 gamesquare" id="1,9"></div>
				<div class="col-xs-1 gamesquare" id="2,9"></div>
				<div class="col-xs-1 gamesquare" id="3,9"></div>
				<div class="col-xs-1 gamesquare" id="4,9"></div>
				<div class="col-xs-1 gamesquare" id="5,9"></div>
				<div class="col-xs-1 gamesquare" id="6,9"></div>
				<div class="col-xs-1 gamesquare" id="7,9"></div>
				<div class="col-xs-1 gamesquare" id="8,9"></div>
				<div class="col-xs-1 gamesquare" id="9,9"></div>
				<div class="col-xs-1 gamesquare" id="10,9"></div>
			</div>
			<div class="row show-grid">
				<div class="col-xs-1 square"><div class="content">10</div></div>
				<div class="col-xs-1 gamesquare" id="1,10"></div>
				<div class="col-xs-1 gamesquare" id="2,10"></div>
				<div class="col-xs-1 gamesquare" id="3,10"></div>
				<div class="col-xs-1 gamesquare" id="4,10"></div>
				<div class="col-xs-1 gamesquare" id="5,10"></div>
				<div class="col-xs-1 gamesquare" id="6,10"></div>
				<div class="col-xs-1 gamesquare" id="7,10"></div>
				<div class="col-xs-1 gamesquare" id="8,10"></div>
				<div class="col-xs-1 gamesquare" id="9,10"></div>
				<div class="col-xs-1 gamesquare" id="10,10"></div>
			</div>
		</div>
		
		<!-- The chat div -->
		<div class="col-lg-4">
			<div class="page-header text-center">
				<h3>Chat</h3>
			</div>
		
			<form action="">
			  <input id="m" autocomplete="off" /><button id="btn" type="submit">Send</button>
			</form>
			<ul id="messages"></ul>
		</div>
	</div>
	
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<script>
	  var socket = io();
	  
	  $('form').submit(function(){
		socket.emit('chat message', '<strong><%=id%></strong>: '+ $('#m').val());
		$('#m').val('');
		return false;
	  });
	  
	  socket.on('chat message', function(msg){
		$('#messages').append($('<li>').html(msg));
	  });
	</script>
	
	<script>
		var opponentGrid =<%-JSON.stringify(opponent)%>;
		var playerGrid =<%-JSON.stringify(player)%>;
		
		$( document ).ready(function() {
			// Show the opponent's ship names
			for(i = 0; i < opponentGrid.shiplist.length; i++)
			{
				var ship = opponentGrid.shiplist[i];
				$('#OpponentShips').append($('<li>').text(ship.name));
			}
			// color the player's squares
			for(i = 0; i < playerGrid.shiplist.length; i++)
			{
				var ship = playerGrid.shiplist[i];
				$('#PlayerShips').append($('<li>').text(ship.name));
			}
		});
	</script>
	
</div>
</body>
</html>